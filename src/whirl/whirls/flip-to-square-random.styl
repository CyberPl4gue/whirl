@import '../vars.styl'
/**
  * Flip to square (Random)
  *
  * @author jh3y - https://github.com/jh3y
*/

$size = 20px
$color = $whirl-primary

@keyframes whirl-flip-to-square-random
  0%
    transform rotateX(-90deg)
  50%
  75%
    transform rotateX(0)
  100%
    opacity 0
    transform rotateX(0)


[data-whirl='flip-to-square-random']
  position absolute
  top 50%
  left 50%

  div
    height $size
    width  $size
    background-color $color
    position absolute
    top 50%
    left 50%
    animation whirl-flip-to-square-random 1.5s infinite

  div:nth-child(1)
  div:nth-child(4)
  div:nth-child(7)
    left -(1.5 * $size)

  div:nth-child(2)
  div:nth-child(5)
  div:nth-child(8)
    left -(.5 * $size)

  div:nth-child(3)
  div:nth-child(6)
  div:nth-child(9)
    left .5 * $size

  div:nth-child(1)
  div:nth-child(2)
  div:nth-child(3)
    top -(1.5 * $size)

  div:nth-child(4)
  div:nth-child(5)
  div:nth-child(6)
    top -(.5 * $size)

  div:nth-child(7)
  div:nth-child(8)
  div:nth-child(9)
    top .5 * $size

  for $el in (1..9)
    div:nth-child({$el})
      animation-delay math(0, 'random') * 1s
