@import '../vars.styl'
/**
  * Sliding tiles - bordered
  *
  * @author jh3y - https://github.com/jh3y
*/

$size = 20px
$duration = 2s
$container-size = $size * 2.5
$perspective = $container-size

@keyframes whirl-sliding-tile
  0%
    transform translate(-50%, -50%)
  10%
    transform translate(50%, -50%)
  20%
  80%
    transform translate(50%, 50%)
  90%
    transform translate(-50%, 50%)
  100%
    transform translate(-50%, -50%)

@keyframes whirl-sliding-tile-2
  0%
    transform translate(50%, 50%)
  10%
    transform translate(-50%, 50%)
  20%
  80%
    transform translate(-50%, -50%)
  90%
    transform translate(50%, -50%)
  100%
    transform translate(50%, 50%)

@keyframes whirl-tile-rotate
  0%
  20%
    transform perspective($perspective) rotateY(0deg)
  30%
  70%
    transform perspective($perspective) rotateY(180deg)
  80%
  100%
    transform perspective($perspective) rotate(360deg)


[data-whirl='sliding-tiles-bordered']
  animation whirl-tile-rotate ($duration * 2) infinite linear
  border 4px solid $whirl-primary
  height $container-size
  left 50%
  margin-left -($container-size / 2)
  margin-top -($container-size / 2)
  position absolute
  top 50%
  width   $container-size

  &:after
  &:before
    $create-pseudo($size, $size)
    animation whirl-sliding-tile $duration infinite linear
    background-color $whirl-primary

  &:after
    animation whirl-sliding-tile-2 $duration infinite linear
